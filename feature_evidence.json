{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-perform-a-thorough-end-to-end-audit-and-fix-of-the-add-player-flow-1-confirm-the-backend-addplayer-method-in-backend-main-mo-has-no-admin-authorization-guard-and-accepts-any-valid-call-unconditionally-2-confirm-useaddplayer-in-usequeries-ts-constructs-the-correct-argument-shape-including-only-non-empty-tier-badges-and-calls-the-backend-actor-method-3-confirm-addplayermodal-tsx-serialises-the-form-state-into-the-exact-shape-the-backend-expects-and-closes-the-modal-on-success-4-confirm-react-query-cache-is-invalidated-for-all-relevant-category-keys-after-a-successful-add-so-the-rankings-table-refreshes-immediately",
      "featureTitle": "Perform a thorough end-to-end audit and fix of the Add Player flow: (1) Confirm the backend addPlayer method in backend/main.mo has no admin authorization guard and accepts any valid call unconditionally. (2) Confirm useAddPlayer in useQueries.ts constructs the correct argument shape (including only non-empty tier badges) and calls the backend actor method. (3) Confirm AddPlayerModal.tsx serialises the form state into the exact shape the backend expects and closes the modal on success. (4) Confirm React Query cache is invalidated for all relevant category keys after a successful add so the rankings table refreshes immediately.",
      "files": [
        "frontend/src/hooks/useQueries.ts",
        "frontend/src/pages/RankingsPage.tsx"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-29"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-perform-a-thorough-end-to-end-audit-and-fix-of-the-remove-player-flow-1-confirm-the-backend-removeplayer-method-in-backend-main-mo-removes-the-player-matching-the-given-uuid-from-all-category-stable-storage-arrays-without-any-authorization-check-2-confirm-useremoveplayer-in-usequeries-ts-calls-the-backend-removeplayer-method-with-the-correct-uuid-argument-and-invalidates-all-relevant-react-query-cache-keys-on-success-3-confirm-admincontrols-tsx-when-session-is-already-unlocked-sessionstorage-flag-set-the-remove-player-button-immediately-shows-a-player-selection-confirmation-step-without-re-prompting-the-passcodemodal-if-not-unlocked-shows-passcodemodal-first-4-after-confirmation-the-player-disappears-from-the-rankings-table-immediately",
      "featureTitle": "Perform a thorough end-to-end audit and fix of the Remove Player flow: (1) Confirm the backend removePlayer method in backend/main.mo removes the player matching the given UUID from all category stable storage arrays without any authorization check. (2) Confirm useRemovePlayer in useQueries.ts calls the backend removePlayer method with the correct UUID argument and invalidates all relevant React Query cache keys on success. (3) Confirm AdminControls.tsx: when session is already unlocked (sessionStorage flag set), the Remove Player button immediately shows a player-selection/confirmation step without re-prompting the PasscodeModal; if not unlocked, shows PasscodeModal first. (4) After confirmation, the player disappears from the rankings table immediately.",
      "files": [
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0",
        "authorization@4.0.0"
      ],
      "testIds": [
        "REQ-30"
      ],
      "confidence": "high"
    }
  ]
}